(function(u,d){typeof exports=="object"&&typeof module<"u"?d(exports):typeof define=="function"&&define.amd?define(["exports"],d):(u=typeof globalThis<"u"?globalThis:u||self,d(u["@scalar/snippetz-plugin-node-undici"]={}))})(this,function(u){"use strict";function d(i){return i.reduce((t,e)=>(t[e.name]=e.value,t),{})}function $(i){return/\s|-/.test(i)}function c(i,t=0){let e=[],p=" ".repeat(t),r=" ".repeat(t+2);for(const[f,o]of Object.entries(i)){let a=$(f)?`'${f}'`:f;if(Array.isArray(o)){const s=o.map(n=>typeof n=="string"?`'${n}'`:n&&typeof n=="object"?c(n,t+2):n).join(`, ${r}`);e.push(`${r}${a}: [${s}]`)}else if(o&&typeof o=="object")e.push(`${r}${a}: ${c(o,t+2)}`);else if(typeof o=="string"){let s=`${o}`;if(o.startsWith("JSON.stringify")){const n=o.split(`
`);n.length>1&&(s=n.map((l,y)=>y===0?l:`${r}${l}`).join(`
`))}else s=`'${o}'`;e.push(`${r}${a}: ${s}`)}else e.push(`${r}${a}: ${o}`)}return`{
${e.join(`,
`)}
${p}}`}function h(i){var a,s;const t={method:"GET",...i};t.method=t.method.toUpperCase();const e={method:t.method==="GET"?void 0:t.method},p=new URLSearchParams(t.queryString?d(t.queryString):void 0),r=p.size?`?${p.toString()}`:"";(a=t.headers)!=null&&a.length&&(e.headers={},t.headers.forEach(n=>{e.headers[n.name]=n.value})),(s=t.cookies)!=null&&s.length&&(e.headers=e.headers||{},t.cookies.forEach(n=>{e.headers["Set-Cookie"]=e.headers["Set-Cookie"]?`${e.headers["Set-Cookie"]}; ${n.name}=${n.value}`:`${n.name}=${n.value}`})),Object.keys(e).forEach(n=>{e[n]===void 0&&delete e[n]}),t.postData&&(e.body=t.postData.text,t.postData.mimeType==="application/json"&&(e.body=`JSON.stringify(${c(JSON.parse(e.body))})`));const f=Object.keys(e).length?`, ${c(e)}`:"";return{target:"node",client:"undici",code:`import { request } from 'undici'

const { statusCode, body } = await request('${t.url}${r}'${f})`}}u.undici=h,Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})});

{"version":3,"file":"cache.js","names":["Cache","cache","keys","key","value","pop","lastKey"],"sources":["../source/cache.js"],"sourcesContent":["/**\r\n * A basic in-memory cache.\r\n *\r\n * import Cache from 'javascript-time-ago/Cache'\r\n * const cache = new Cache()\r\n * const object = cache.get('key1', 'key2', ...) || cache.put('key1', 'key2', ..., createObject())\r\n */\r\nexport default class Cache {\r\n\tconstructor() {\r\n\t\tthis.cache = {}\r\n\t}\r\n\r\n\tget(...keys) {\r\n\t\tlet cache = this.cache\r\n\t\tfor (const key of keys) {\r\n\t\t\tif (typeof cache !== 'object') {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tcache = cache[key]\r\n\t\t}\r\n\t\treturn cache\r\n\t}\r\n\r\n\tput(...keys) {\r\n\t\tconst value = keys.pop()\r\n\t\tconst lastKey = keys.pop()\r\n\t\tlet cache = this.cache\r\n\t\tfor (const key of keys) {\r\n\t\t\tif (typeof cache[key] !== 'object') {\r\n\t\t\t\tcache[key] = {}\r\n\t\t\t}\r\n\t\t\tcache = cache[key]\r\n\t\t}\r\n\t\treturn cache[lastKey] = value\r\n\t}\r\n}"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;IACqBA,K;EACpB,iBAAc;IAAA;;IACb,KAAKC,KAAL,GAAa,EAAb;EACA;;;;WAED,eAAa;MACZ,IAAIA,KAAK,GAAG,KAAKA,KAAjB;;MADY,kCAANC,IAAM;QAANA,IAAM;MAAA;;MAEZ,yBAAkBA,IAAlB,2BAAwB;QAAnB,IAAMC,GAAG,YAAT;;QACJ,IAAI,QAAOF,KAAP,MAAiB,QAArB,EAA+B;UAC9B;QACA;;QACDA,KAAK,GAAGA,KAAK,CAACE,GAAD,CAAb;MACA;;MACD,OAAOF,KAAP;IACA;;;WAED,eAAa;MAAA,mCAANC,IAAM;QAANA,IAAM;MAAA;;MACZ,IAAME,KAAK,GAAGF,IAAI,CAACG,GAAL,EAAd;MACA,IAAMC,OAAO,GAAGJ,IAAI,CAACG,GAAL,EAAhB;MACA,IAAIJ,KAAK,GAAG,KAAKA,KAAjB;;MACA,2BAAkBC,IAAlB,8BAAwB;QAAnB,IAAMC,GAAG,cAAT;;QACJ,IAAI,QAAOF,KAAK,CAACE,GAAD,CAAZ,MAAsB,QAA1B,EAAoC;UACnCF,KAAK,CAACE,GAAD,CAAL,GAAa,EAAb;QACA;;QACDF,KAAK,GAAGA,KAAK,CAACE,GAAD,CAAb;MACA;;MACD,OAAOF,KAAK,CAACK,OAAD,CAAL,GAAiBF,KAAxB;IACA"}